# DIL 사용 예시
## 데이터 분석 목적
**최고급 객실 숙박 L사는 자신들의 고객들의 지역, 가족 관계, 재산을 분석하여 맞춤형 서비스를 만들고자 한다.**<br>
이 때문에 데이터 분석 전문 회사인 A사에 고객들의 데이터를 넘겨서 데이터 분석을 의탁하려 한다.

하지만 고객 정보를 그대로 데이터 분석 전문 회사 A사에 전달하면 법에 위촉이 됨으로, 최고급 객실 숙박 L사는 고객을 식별할 수 없도록 가명처리 후 전달해야한다.<br>
이를 위해 DIL 라이브러리를 이용하여 가명처리를 하겠다.


## 가명처리할 데이터 정리
### 최고급 객실 숙박 L사의 고객 데이터 (예시)
|이름|생년월일|성별|핸드폰|주소|직업|가족|재산|
|-|-|-|-|-|-|-|-|
|정재훈|970624|남|090-0001-1111|서울특별시 동대문구 신설동|개발자|-|10,000,000원|
|박시온|931020|남|090-0002-2222|전라남도 여수시 상동|보안담당자|배우자|60,000,000원|
|박지운|640618|남|090-0003-3333|서울특별시 강남구 삼성동|국회위원|배우자, 아들 1|200,000,000원|
|이재용|680623|남|090-0004-4444|서울특별시 용산구 한남동|기업인|배우자, 아들 1, 딸 1|400,000,000,000원|

### 식별자, 준식별자, 민감정보 선정
- 식별자 : 이름, 핸드폰
- 준식별자 : 생년월일, 성별, 주소
- 민감정보 : 직업, 가족, 재산

데이터 분석 시 필수 데이터 : 주소, 가족, 재산

### 가명처리 기술 표
|이름|생년월일|성별|핸드폰|주소|직업|가족|재산|
|-|-|-|-|-|-|-|-|
|삭제|삭제|삭제|암호화|범주화|삭제|일반화|범주화|

가명처리는 추가 정보의 사용, 결합없이는 특정 개인을 알아볼 수 없는 정보임으로, 식별되는 데이터(여기서는 핸드폰 컬럼을 암호화)을 주어도 상관없다.

이유는 암호화된 핸드폰 컬럼의 데이터와 남아있는 정보들을 겹합하여 다른 사람을 식별할 수 없기 때문이다.

### 익명처리 기술 표
|이름|생년월일|성별|핸드폰|주소|직업|가족|재산|
|-|-|-|-|-|-|-|-|
|삭제|삭제|삭제|삭제|범주화|삭제|일반화|범주화|

익명처리는 다른 정보를 사용하여도 더 이상 개인을 알아볼 수 없는 정보임으로, 식별 가능성을 완전히 제거를 해야한다. 이 때문에 핸드폰 컬럼도 삭제를 하는 모습을 볼 수 있다.

또한 남아있는 정보들도 가명처리 기술을 이용하여 식별성이 거의 없도록 만들어줘야 한다.

---

## DIL을 이용한 가명처리
**example_dataset.csv 출력 코드**

```python
import pandas

datas = pandas.read_csv('../Sample/test_100.csv', index_col=0)
print(datas.head())
```

<br>

**출력 값**
|이름|생년월일|성별|핸드폰|주소|직업|가족|재산|
|-|-|-|-|-|-|-|-|
|정재훈|970624|남|090-0001-1111|서울특별시 동대문구 신설동|개발자|-|10,000,000원|
|박시온|931020|남|090-0002-2222|전라남도 여수시 상동|보안담당자|배우자|60,000,000원|
|박지운|640618|남|090-0003-3333|서울특별시 강남구 삼성동|국회위원|배우자, 아들 1|200,000,000원|
|이재용|680623|남|090-0004-4444|서울특별시 용산구 한남동|기업인|배우자, 아들 1, 딸 1|400,000,000,000원|

### 컬럼 삭제
삭제 대상 컬럼 : 이름, 생년월일, 성별, 직업

```python
import pandas
import DIL

datas = pandas.read_csv('../Sample/test_100.csv')

# 삭제 기술 - 일반 삭제
DIL.suppression(datas).general(["이름", "생년월일", "성별", "직업"])

print(datas.head())
```

<br>

**출력 값**
|핸드폰|주소|가족|재산|
|-|-|-|-|
|090-0001-1111|서울특별시 동대문구 신설동|-|10,000,000원|
|090-0002-2222|전라남도 여수시 상동|배우자|60,000,000원|
|090-0003-3333|서울특별시 강남구 삼성동|배우자, 아들 1|200,000,000원|
|090-0004-4444|서울특별시 용산구 한남동|배우자, 아들 1, 딸 1|400,000,000,000원|

### 암호화

```python
import pandas
import DIL

datas = pandas.read_csv('../Sample/test_100.csv')

# 삭제 기술 - 일반 삭제
DIL.suppression(datas).general(['이름', '생년월일', '성별', '직업'])

# 암호화 기술 - AES256
key = 'TestCode'
DIL.crypto.AES256(datas, key).encrypt('핸드폰')

print(datas.head())
```